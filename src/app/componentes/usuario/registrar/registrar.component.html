<div class="fondo">
  <div class="contenedor">
    <div class="contenedor_buttom">
      <input
        (click)="closeModal(0, 'profile_carwash')"
        type="button"
        value="x"
      />
    </div>
    <div class="progress-barr">
      <div class="pasos" *ngFor="let elemento of elementos">
        <p>{{ elemento.texto }}</p>
        <div class="number" [ngClass]="{ active: elemento.activo }">
          <span>{{ elemento.contenido }}</span>
        </div>
      </div>
    </div>
    <h2>Bienvenido a LavaSoft</h2>
    <p>Registrate ahora y haz tu reservacion.</p>
    <div class="form_container">
      <!--  CAMPOS : nombre, apellido, genero, fecha_nacimiento, correo_electronico, contrasena, telefono -->
      <form [formGroup]="usuarioForm">
        <!-- Pagina 1 -->
        <div class="pagina movPage" [ngStyle]="{ 'margin-left': marginLeft }">
          <h4>Informacion principal</h4>

          <div class="input-container" [ngClass]="{
            errorInput:
              usuarioForm.get('name').invalid &&
              (usuarioForm.get('name').dirty ||
                usuarioForm.get('name').touched)
          }">
            <img
              src="../../../../assets/imgs/tarjeta-de-identificacion.png"
              class="img-diferent"
              alt=""
            />
            <input
              class="input_text_form"
              type="text"
              id="name"
              placeholder="Nombres"
              formControlName="name"
              tabindex="-1"
            />
          </div>

          <div class="input-container" [ngClass]="{
            errorInput:
              usuarioForm.get('lastname').invalid &&
              (usuarioForm.get('lastname').dirty ||
                usuarioForm.get('lastname').touched)
          }">
            <img
              src="/assets/imgs/tarjeta-de-identificacion.png"
              class="img-diferent"
              alt=""
            />

            <input
              class="input_text_form"
              type="text"
              id="lastname"
              placeholder="Apellidos"
              formControlName="lastname"
              tabindex="-1"
            />
          </div>

          <div class="button siguiente-page2">
            <button tabindex="-1" (click)="siguiente('2')">Siguiente</button>
          </div>
          <div class="errors">
            <div
              *ngIf="
                usuarioForm.get('name').invalid &&
                (usuarioForm.get('name').dirty ||
                  usuarioForm.get('name').touched)
              "
              class="text-danger"
            >
              <div *ngIf="usuarioForm.get('name').hasError('required')">
                El nombre es requerido
              </div>
            </div>

            <div
              *ngIf="
                usuarioForm.get('lastname').invalid &&
                (usuarioForm.get('lastname').dirty ||
                  usuarioForm.get('lastname').touched)
              "
              class="text-danger"
            >
              <div *ngIf="usuarioForm.get('lastname').hasError('required')">
                El apellido es requerido
              </div>
            </div>
          </div>
        </div>

        <!-- Pagina 2 -->
        <div class="pagina">
          <h4>Informacion Secundaria</h4>

          <div class="input-container" [ngClass]="{
            errorInput:
              usuarioForm.get('fecha_nacimiento').invalid &&
              (usuarioForm.get('fecha_nacimiento').dirty ||
                usuarioForm.get('fecha_nacimiento').touched)
          }">
            <input
              class="input_text_form"
              type="date"
              id="date"
              formControlName="fecha_nacimiento"
              tabindex="-1"
            />
          </div>

          <div class="input-container" [ngClass]="{
            errorInput:
              usuarioForm.get('genero').invalid &&
              (usuarioForm.get('genero').dirty ||
                usuarioForm.get('genero').touched)
          }">
            <img src="../../../../assets/imgs/genero.png" alt="" />

            <select id="sex" formControlName="genero" tabindex="-1">
              <option value="" disabled selected>Genero</option>
              <option value="Masculino">Masculino</option>
              <option value="Femenino">Femenino</option>
            </select>
          </div>

          <div class="buttons">
            <button
              tabindex="-1"
              (click)="anterior('2')"
              class="volver-page1 volver"
            >
              Atras
            </button>
            <button
              tabindex="-1"
              (click)="siguiente('3')"
              class="siguiente-page3 siguiente"
            >
              Siguiente
            </button>
          </div>

          <div class="errors">
            <div
              *ngIf="
                usuarioForm.get('fecha_nacimiento').invalid &&
                (usuarioForm.get('fecha_nacimiento').dirty ||
                  usuarioForm.get('fecha_nacimiento').touched)
              "
              class="text-danger"
            >
              <div
                *ngIf="usuarioForm.get('fecha_nacimiento').hasError('required')"
              >
                La fecha de nacimiento es requerida
              </div>
            </div>

            <div
              *ngIf="
                usuarioForm.get('genero').invalid &&
                (usuarioForm.get('genero').dirty ||
                  usuarioForm.get('genero').touched)
              "
              class="text-danger"
            >
              <div *ngIf="usuarioForm.get('genero').hasError('required')">
                El genero es requerido
              </div>
            </div>
          </div>
        </div>

        <!-- Pagina 3 -->

        <div class="pagina">
          <h4>Contacto</h4>

          <div class="input-container" [ngClass]="{
            errorInput:
              usuarioForm.get('email').invalid &&
              (usuarioForm.get('email').dirty ||
                usuarioForm.get('email').touched)
          }">
            <img src="../../../../assets/imgs/correo-electronico.png" alt="" />

            <input
              class="input_text_form"
              type="text"
              id="email"
              formControlName="email"
              placeholder="Correo electronico"
              tabindex="-1"
            />
          </div>



          <div class="input-container" [ngClass]="{
            errorInput:
              usuarioForm.get('cel').invalid &&
              (usuarioForm.get('cel').dirty ||
                usuarioForm.get('cel').touched)
          }">
            <img src="../../../../assets/imgs/llamada-telefonica.png" alt="" />

            <input
              class="input_text_form"
              type="text"
              id="cel"
              formControlName="cel"
              placeholder="Telefono celular"
              tabindex="-1"
            />
          </div>

          <div class="buttons">
            <button
              tabindex="-1"
              (click)="anterior('3')"
              class="volver-page2 volver"
            >
              Atras
            </button>
            <button
              tabindex="-1"
              (click)="siguiente('4')"
              class="siguiente-page4 siguiente"
            >
              Siguiente
            </button>
          </div>

          <div class="errors">
            <div
              *ngIf="
                usuarioForm.get('email').invalid &&
                (usuarioForm.get('email').dirty ||
                  usuarioForm.get('email').touched)
              "
              class="text-danger"
            >
              <div *ngIf="usuarioForm.get('email').hasError('required')">
                El correo electrónico es requerido
              </div>
              <div *ngIf="usuarioForm.get('email').hasError('email')">
                El correo electrónico no es válido
              </div>
            </div>

            <div
            *ngIf="
              usuarioForm.get('cel').invalid &&
              (usuarioForm.get('cel').dirty || usuarioForm.get('cel').touched)
            "
            class="text-danger"
          >
            <div *ngIf="usuarioForm.get('cel').hasError('required')">
              El telefono celular es requerido
            </div>
            <div *ngIf="usuarioForm.get('cel').hasError('minlength') || usuarioForm.get('cel').hasError('maxlength')">
              El telefono celular debe tener 10 digitos
            </div>
          </div>
          </div>
        </div>

        <!-- Pagina 4 -->

        <div class="pagina">
          <h4>Contraseña</h4>

          <div class="input-container" [ngClass]="{
            errorInput:
              usuarioForm.get('password').invalid &&
              (usuarioForm.get('password').dirty ||
                usuarioForm.get('password').touched)
          }">
            <img src="../../../../assets/imgs/candado.png" alt="" />

            <input
              class="input_text_form"
              type="password"
              id="password"
              formControlName="password"
              placeholder="Contraseña"
              tabindex="-1"
            />

            <div class="eyes">
              <img src="../../../../assets/imgs/show.png" id="show" alt="" />
              <img
                src="../../../../assets/imgs/oculto.png"
                id="noshow"
                alt=""
              />
            </div>
          </div>

          <div class="input-container" [ngClass]="{
            errorInput:
              usuarioForm.get('confimar_password').invalid &&
              (usuarioForm.get('confimar_password').dirty ||
                usuarioForm.get('confimar_password').touched)
          }">
            <img src="../../../../assets/imgs/recargar.png" alt="" />
            <input
              class="input_text_form"
              type="password"
              id="password-confirm"
              formControlName="confimar_password"
              placeholder="Confirmar Contraseña"
              tabindex="-1"
            />
          </div>

          <div class="buttons">
            <button
              tabindex="-1"
              (click)="anterior('4')"
              class="volver-page3 volver"
            >
              Atras
            </button>
            <button tabindex="-1" class="fin" (click)="finalizar()">
              Finalizar
            </button>
          </div>
          <div class="errors">
            <div
              *ngIf="
                usuarioForm.get('password').invalid &&
                (usuarioForm.get('password').dirty ||
                  usuarioForm.get('password').touched)
              "
              class="text-danger"
            >
              <div *ngIf="usuarioForm.get('password').hasError('required')">
                La contraseña es requerida
              </div>
              <div *ngIf="usuarioForm.get('password').hasError('minlength')">
                La contraseña debe tener al menos 8 caracteres
              </div>
            </div>

            <div *ngIf="usuarioForm.hasError('contrasenasNoCoinciden')">
              Las contraseñas no coinciden
            </div>
          </div>
        </div>
      </form>
      <div class="slogan">
        <p>
          ¡Cuida tu auto con LavaSoft y obtén el mejor servicio de lavado en la
          ciudad! Regístrate ahora y elige el lavadero más cercano y la hora que
          mejor se adapte a tus necesidades.
        </p>
      </div>
    </div>
  </div>
</div>
